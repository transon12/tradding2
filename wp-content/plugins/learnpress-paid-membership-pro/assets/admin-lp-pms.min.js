"use strict";!function(e){var t,s;e.fn._getElements=function(){s=e(".lp-pmpro-courses-data-search-ajax"),t=e(".membership_categories")},e.fn._courses_setting_on_pms=function(){t.find(".select2 ").attr("style","width: auto !important");var e=t.find(".select2-selection__rendered"),n=e.find("li").length-1;e.after('<p style="margin-left: 5px"">Total courses: <span class="total-courses-level">'+n+"</span></p>"),s.on("change",function(){var e=t.find(".select2-selection__rendered").find("li").length-1;t.find(".total-courses-level").text(e)})},e(document).ready(function(){e.fn._getElements();var t=e("#learn-press-pmpro-settings-admin"),n=e("#learn_press_buy_through_membership",t),r=e("#learn_press_button_buy_course",t);n.on("change",function(){console.log(r.closest("tr")),e(this).prop("checked")?r.closest("tr").addClass("hide-if-js"):r.closest("tr").removeClass("hide-if-js")}).trigger("change"),s.select2({ajax:{method:"post",url:ajaxurl,dataType:"json",delay:250,data:function(t){var s=e(this).data("level_id"),n=e(this).val();return{action:"learn_press_pmpro_search_courses_action",level_id:s,q:t.term,ex:n,page:t.page,limit:t.limit}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0},escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:"<div class='select2-result-course_title'>"+e.ID+" - "+e.post_title+"</div>"},templateSelection:function(e){return e.name||e.text}}),e.fn._courses_setting_on_pms()})}(jQuery);